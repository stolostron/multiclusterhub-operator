apiVersion: v1
data:
  config.yaml: "auth:\n  caCert: null\n  insecureSkipTlsVerify: false\n  k8s:\n    apiUrl: https://kubernetes.default.svc\n    externalOpenShiftApiUrl: '{{ .Values.global.apiUrl }}'\n    rbacNs: '{{ .Values.global.namespace }}'\ndatabase:\n  hostname: flightctl-db.'{{ .Values.global.namespace }}'.svc.cluster.local\n  name: flightctl\n  port: 5432\n  type: pgsql\nkv:\n  hostname: flightctl-kv.'{{ .Values.global.namespace }}'.svc.cluster.local\n  port: 6379\nmetrics:\n  address: :15690\n  deviceCollector:\n    enabled: true\n    groupByFleet: true\n    tickerInterval: 30s\n  enabled: true\n  fleetCollector:\n    enabled: true\n    tickerInterval: 30s\n  httpCollector:\n    enabled: true\n  repositoryCollector:\n    enabled: true\n    tickerInterval: 30s\n  resourceSyncCollector:\n    enabled: true\n    tickerInterval: 30s\n  systemCollector:\n    enabled: true\n    tickerInterval: 5s\norganizations:\n  enabled: false\nservice:\n  address: :3443\n  agentEndpointAddress: :7443\n  altNames:\n  - api.{{ .Values.global.baseDomain }}\n  - agent-api.{{ .Values.global.baseDomain }}\n  - flightctl-api\n  - flightctl-api.'{{ .Values.global.namespace }}'\n  - flightctl-api.'{{ .Values.global.namespace }}'.svc.cluster.local\n  baseAgentEndpointUrl: https://agent-api.{{ .Values.global.baseDomain }}/\n  baseUIUrl: https://console-openshift-console.{{ .Values.global.baseDomain }}/edge\n  baseUrl: https://api.{{ .Values.global.baseDomain }}/\n  httpMaxHeaderBytes: 33010\n  httpMaxNumHeaders: 32\n  httpMaxRequestSize: 53137200\n  httpMaxUrlLength: 2000\n  httpReadHeaderTimeout: 5m\n  httpReadTimeout: 5m\n  httpWriteTimeout: 5m\n  rateLimit:\n    authRequests: 10\n    authWindow: 1h\n    requests: 60\n    trustedProxies:\n    - 10.0.0.0/8\n    - 172.16.0.0/12\n    - 192.168.0.0/16\n    window: 1m\n"
kind: ConfigMap
metadata:
  name: flightctl-api-config
  namespace: '{{ .Values.global.namespace  }}'
